<!-- Theme update ONLY: colors changed to match Bitcraft Roadmap image.
     All structure and JS (including countdown + alarm controls) are IDENTICAL to your current version.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Bitcraft Timer</title>
  <link rel="icon" href="./favicon.png" />
  <meta name="description" content="Calculate working duration and stamina for Bitcraft Online.">
  <style>
    /* =============================
       Bitcraft Roadmap‚Äìinspired palette (colors only)
       Deep navy bg, gold accents, slate panels, mint success, amber warning
    ============================= */
    :root{
      --primary:#D9B76E;          /* gold */
      --primary-dark:#B8934E;     /* deeper gold */
      --secondary:#7B879F;        /* slate */
      --success:#66E38A;          /* mint */
      --warning:#E6B34A;          /* amber */
      --background:#0E1325;       /* deep navy */
      --surface:#172038;          /* panel */
      --surface-2:#1C2642;        /* raised */
      --text:#E6E9EF;             /* near-white */
      --text-muted:#A8B0C3;       /* muted slate */
      --border:#2A3552;           /* cool border */
      --line:#2E3B5F;             /* dashed lines */
      --shadow:0 12px 28px rgba(0,0,0,.36);
      --shadow-lg:0 28px 48px rgba(0,0,0,.38);
      --radius:.75rem;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;
      color:var(--text);
      min-height:100vh;
      background:
        radial-gradient(1200px 600px at 70% -10%, rgba(217,183,110,.10), transparent 60%),
        radial-gradient(900px 500px at 0% 120%, rgba(102,227,138,.06), transparent 60%),
        var(--background);
      line-height:1.6;
    }

    .container{max-width:1200px;margin:0 auto;padding:1rem}
    header{text-align:center;padding:2rem 0}
    h1{font-size:clamp(1.75rem,4vw,2.5rem);font-weight:800;color:var(--primary);margin-bottom:.5rem;text-shadow:0 2px 12px rgba(217,183,110,.25)}
    .subtitle{font-size:1.125rem;color:var(--text-muted);max-width:640px;margin:0 auto}

    .calculator-grid{display:grid;grid-template-columns:1fr;gap:2rem}
    @media (min-width:768px){.calculator-grid{grid-template-columns:1fr 1fr}}

    .input-card,.result-card{background:linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)), var(--surface);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:1.5rem}
    .card-title{font-size:1.25rem;font-weight:700;color:var(--text);margin-bottom:1.25rem;display:flex;align-items:center;gap:.5rem}
    .icon{width:1.25rem;height:1.25rem;color:var(--primary)}

    .input-group{margin-bottom:1.25rem}
    .input-group:last-child{margin-bottom:0}
    .example-image{max-width:100%;height:auto;border-radius:.5rem;box-shadow:0 2px 8px rgba(0,0,0,.35);display:block;margin:0 auto 1.25rem}

    label{display:block;font-weight:700;color:var(--text);margin-bottom:.5rem;font-size:.85rem;text-transform:uppercase;letter-spacing:.04em}
    input,select{width:100%;padding:.875rem 1rem;border:2px solid var(--border);border-radius:.5rem;font-size:1rem;background:var(--surface-2);color:var(--text);transition:all .2s ease}
    input:hover,select:hover{border-color:var(--line)}
    input:focus,select:focus{outline:none;border-color:var(--primary);box-shadow:0 0 0 3px rgba(217,183,110,.18)}

    .help-label-totalEffort{color:#FF7A7A}.help-label-toolPower{color:#E6B34A}.help-label-delay{color:#A889F5}.help-label-tier{color:#66E38A}

    .calculate-btn{width:100%;padding:1rem 1.5rem;background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#1A1625;border:none;border-radius:.5rem;font-size:1rem;font-weight:800;cursor:pointer;transition:all .2s ease;margin-top:1.5rem;text-transform:uppercase;letter-spacing:.04em}
    .calculate-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg);filter:brightness(1.04)}
    .calculate-btn:active{transform:translateY(0)}

    .result-card{display:none}
    .result-card.show{display:block;animation:fadeIn .35s ease}
    @keyframes fadeIn{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:none}}

    .time-display{font-size:2.5rem;font-weight:900;color:var(--primary);text-align:center;margin:1rem 0}
    .seconds-display{text-align:center;color:var(--text-muted);font-size:1rem;margin-bottom:1.25rem}

    .stamina-alert{padding:1rem;border-radius:.5rem;margin:1rem 0;font-weight:700;display:none}
    .stamina-alert.show{display:block}
    .stamina-alert.success{background:rgba(102,227,138,.10);border:1px solid rgba(102,227,138,.32);color:var(--success)}
    .stamina-alert.warning{background:rgba(230,179,74,.10);border:1px solid rgba(230,179,74,.32);color:var(--warning)}

    .calculation-steps{background:#12182F;border-radius:.5rem;padding:1rem;margin-top:1.25rem;border:1px dashed var(--line)}
    .step{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px dashed var(--line);font-size:.9rem}
    .step:last-child{border-bottom:none}
    .step-label{font-weight:800;color:var(--text-muted)}
    .step-value{font-weight:800;color:var(--text)}

    .error{background:rgba(239,107,107,.10);border:1px solid rgba(239,107,107,.35);color:#FFDADA;padding:1rem;border-radius:.5rem;margin-top:1rem;font-weight:700}
    .error.show{display:block}

    footer{text-align:center;padding:2rem 0;color:var(--text-muted);font-size:.9rem}

    /* Timer/alarm UI (style only) */
    .alarm-controls{background:#12182F;border:1px dashed var(--line);border-radius:.5rem;padding:.75rem;margin-top:.75rem}
    .alarm-row{display:grid;grid-template-columns:1fr 1fr;gap:.75rem;align-items:center}
    .inline{display:flex;align-items:center;gap:.5rem}
    .timer-btn{padding:.75rem 1rem;border:none;border-radius:.5rem;background:linear-gradient(135deg,var(--primary) 0%,var(--primary-dark) 100%);color:#1A1625;font-weight:800;cursor:pointer}
    .timer-btn:disabled{opacity:.5;cursor:not-allowed}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Bitcraft Timer</h1>
      <p class="subtitle">Calculate working duration, stamina consumption, and pause requirements for different item tiers</p>
    </header>

    <main class="calculator-grid">
      <!-- INPUT CARD (unchanged) -->
      <section class="input-card">
        <h2 class="card-title">
          <svg class="icon" fill="currentColor" viewBox="0 0 20 20"><path d="M10.394 2.08a1 1 0 00-.788 0l-7 3a1 1 0 000 1.84L5.25 8.051a.999.999 0 01.356-.257l4-1.714a1 1 0 11.788 1.838L7.667 9.088l1.94.831a1 1 0 00.787 0l7-3a1 1 0 000-1.838l-7-3zM3.31 9.397L5 10.12v4.102a8.969 8.969 0 00-1.05-.174 1 1 0 01-.89-.89 11.115 11.115 0 01-.25-3.762zM9.3 16.573A9.026 9.026 0 007 14.935v-3.957l1.818.78a3 3 0 002.364 0l5.508-2.361a11.026 11.026 0 01.25 3.762 1 1 0 01-.89.89 8.968 8.968 0 00-5.35 2.524 1 1 0 01-1.4 0z"/></svg>
          Working Parameters
        </h2>

        <picture>
          <source srcset="images/example1.webp" type="image/webp">
          <img src="images/example1.png" alt="Bitcraft UI helper" class="example-image" />
        </picture>

        <div class="input-group">
          <label for="totalEffort">Total Effort <span class="help-label-totalEffort">( 1 )</span></label>
          <input id="totalEffort" type="number" min="0" step="1" placeholder="Enter total effort required" aria-describedby="effort-help" />
        </div>
        <div class="input-group">
          <label for="toolPower">Tool Power <span class="help-label-toolPower">( 2 )</span></label>
          <input id="toolPower" type="number" min="1" step="1" placeholder="Enter tool power value" aria-describedby="power-help" />
        </div>
        <div class="input-group">
          <label for="delay">Delay (seconds) <span class="help-label-delay">( 3 )</span></label>
          <input id="delay" type="number" min="0" step="0.01" placeholder="Enter delay between ticks" aria-describedby="delay-help" />
        </div>
        <div class="input-group">
          <label for="tier">Item Tier <span class="help-label-tier">( 4 )</span></label>
          <select id="tier" aria-describedby="tier-help">
            <option value="">Select item tier...</option>
            <option value="1">Tier 1 (0.75 stamina/tick)</option>
            <option value="2">Tier 2 (0.89 stamina/tick)</option>
            <option value="3">Tier 3 (1.03 stamina/tick)</option>
            <option value="4">Tier 4 (1.16 stamina/tick)</option>
            <option value="5">Tier 5 (1.28 stamina/tick)</option>
            <option value="6">Tier 6 (1.41 stamina/tick)</option>
            <option value="7">Tier 7 (1.52 stamina/tick)</option>
            <option value="8">Tier 8 (1.64 stamina/tick)</option>
            <option value="9">Tier 9 (1.75 stamina/tick)</option>
            <option value="10">Tier 10 (1.86 stamina/tick)</option>
          </select>
        </div>
        <div class="input-group">
          <label for="stamina">Max stamina (optional)</label>
          <input id="stamina" type="number" min="1" step="1" placeholder="Enter your stamina" aria-describedby="stamina-help" />
        </div>

        <button class="calculate-btn" onclick="calculateTime()" aria-label="Calculate working time">Calculate Working Time</button>
        <div id="error" class="error" role="alert" style="display:none"></div>
      </section>

      <!-- RESULT CARD (unchanged structure) -->
      <section id="result" class="result-card" aria-live="polite">
        <h2 class="card-title">
          <svg class="icon" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/></svg>
          Working Results
        </h2>
        <div id="timeDisplay" class="time-display" aria-label="Formatted working time"></div>
        <div id="secondsDisplay" class="seconds-display"></div>

        <!-- Countdown + alarm controls (unchanged logic; themed only) -->
        <div id="alarmControls" class="alarm-controls">
          <div class="alarm-row">
            <div class="inline">
              <input type="checkbox" id="enableAlarm" checked>
              <label for="enableAlarm" style="margin:0;text-transform:none;letter-spacing:0">Enable alarm when time is up</label>
            </div>
            <div class="inline">
              <label for="alarmVolume" style="margin:0;text-transform:none">Volume</label>
              <input id="alarmVolume" type="range" min="0" max="1" step="0.01" value="0.8" style="width:140px">
            </div>
          </div>
          <div class="alarm-row" style="margin-top:.5rem;grid-template-columns:1fr auto auto auto;">
            <button id="startBtn" class="timer-btn" onclick="startTimer()">Start Timer</button>
            <button id="pauseBtn" class="timer-btn" onclick="pauseTimer()" disabled>Pause</button>
            <button id="resetBtn" class="timer-btn" onclick="resetTimer()" disabled>Reset</button>
            <button id="testSoundBtn" class="timer-btn" onclick="testAlarm()">Test Sound</button>
          </div>
          <div id="countdownStatus" class="seconds-display" style="text-align:center;margin-top:.5rem"></div>
        </div>

        <div id="staminaAlert" class="stamina-alert" role="alert"></div>
        <div class="calculation-steps">
          <div class="step" id="step1"><span class="step-label">Notches Required</span><span class="step-value" id="step1Value"></span></div>
          <div class="step" id="step2"><span class="step-label">Total Time</span><span class="step-value" id="step2Value"></span></div>
          <div class="step" id="step3"><span class="step-label">Stamina Info</span><span class="step-value" id="step3Value"></span></div>
        </div>
      </section>
    </main>
  </div>

  <footer>
    <p style="text-align:center;color:var(--text-muted);font-size:.9rem">&copy; 2025 Bitcraft Timer. This website has no official link with Clockwork Labs or Bitcraft Online.</p>
  </footer>

  <!-- Alarm audio (unchanged) -->
  <audio id="alarmAudio" preload="auto" src="https://actions.google.com/sounds/v1/alarms/alarm_clock.ogg"></audio>

  <!-- ORIGINAL SCRIPT (unchanged logic) -->
  <script>
    function formatTime(totalSeconds){const h=Math.floor(totalSeconds/3600),m=Math.floor((totalSeconds%3600)/60),s=Math.floor(totalSeconds%60);return `${String(h).padStart(2,'0')}:${String(m).padStart(2,'0')}:${String(s).padStart(2,'0')}`}
    let lastComputedSeconds=0;function calculateTime(){const e=parseFloat(document.getElementById('totalEffort').value),t=parseFloat(document.getElementById('toolPower').value),a=parseFloat(document.getElementById('delay').value),r=document.getElementById('tier').value?parseInt(document.getElementById('tier').value):null,n=document.getElementById('stamina').value?parseInt(document.getElementById('stamina').value):null,o={1:.75,2:.89,3:1.03,4:1.16,5:1.28,6:1.41,7:1.52,8:1.64,9:1.75,10:1.86},s=document.getElementById('error'),l=document.getElementById('staminaAlert');s.classList.remove('show');l.classList.remove('show','success','warning');if(isNaN(e)||isNaN(t)||isNaN(a)||r===null){s.textContent='Please fill in all required fields and select a tier.';s.classList.add('show');document.getElementById('result').classList.remove('show');return}if(e<=0||t<=0||a<0){s.textContent='Total effort and tool power must be positive. Delay cannot be negative.';s.classList.add('show');document.getElementById('result').classList.remove('show');return}if(n!==null&&n<=0){s.textContent='Stamina must be a positive number if provided.';s.classList.add('show');document.getElementById('result').classList.remove('show');return}const c=Math.ceil(e/t),d=c*a;lastComputedSeconds=d;let i='';if(n!==null){const u=o[r],m=c*u;if(m>n){const g=Math.floor(n/u),p=g*a,f=formatTime(p),v=Math.ceil(m/n)-1;i=`‚ö†Ô∏è ${v} pause${v>1?'s':''} needed. Time before first pause: ${f}`;l.classList.add('warning')}else{const h=(n-m).toFixed(2);i=`‚úÖ Stamina sufficient! ${h} stamina remaining after working.`;l.classList.add('success')}l.textContent=i;l.classList.add('show')}document.getElementById('timeDisplay').textContent=formatTime(d);document.getElementById('secondsDisplay').textContent=`${d.toFixed(2)} total seconds`;document.getElementById('step1Value').textContent=`${c} notches`;document.getElementById('step2Value').textContent=`${d.toFixed(2)}s`;if(n!==null){const y=(c*o[r]).toFixed(2);document.getElementById('step3Value').textContent=`${y}/${n} (${o[r]}/tick)`}else{document.getElementById('step3Value').textContent=`${o[r]} stamina/tick`}document.getElementById('result').classList.add('show')}
    document.querySelectorAll('input, select').forEach(e=>{const t=function(){const e=document.getElementById('totalEffort').value,t=document.getElementById('toolPower').value,a=document.getElementById('delay').value,r=document.getElementById('tier').value;if(e&&t&&a&&r){calculateTime()}};e.addEventListener('input',t);e.addEventListener('change',t)});
    document.addEventListener('keypress',function(e){if(e.key==='Enter'){calculateTime()}});

    // ===== Countdown + alarm (unchanged logic) =====
    let countdownInterval=null,remaining=0;const titleBase=document.title;const alarmAudio=document.getElementById('alarmAudio');const enableAlarm=document.getElementById('enableAlarm');const alarmVolume=document.getElementById('alarmVolume');const timeDisplay=document.getElementById('timeDisplay');const secondsDisplay=document.getElementById('secondsDisplay');const countdownStatus=document.getElementById('countdownStatus');const startBtn=document.getElementById('startBtn');const pauseBtn=document.getElementById('pauseBtn');const resetBtn=document.getElementById('resetBtn');
    alarmAudio.volume=parseFloat(alarmVolume.value);alarmVolume.addEventListener('input',()=>{alarmAudio.volume=parseFloat(alarmVolume.value)});
    function updateButtons(state){if(state==='running'){startBtn.disabled=true;pauseBtn.disabled=false;resetBtn.disabled=false}else if(state==='paused'){startBtn.disabled=false;startBtn.textContent='Resume';pauseBtn.disabled=true;resetBtn.disabled=false}else if(state==='done'){startBtn.disabled=false;startBtn.textContent='Start Timer';pauseBtn.disabled=true;resetBtn.disabled=false}else{startBtn.disabled=false;startBtn.textContent='Start Timer';pauseBtn.disabled=true;resetBtn.disabled=true}}
    function startTimer(){if(!lastComputedSeconds||lastComputedSeconds<=0){countdownStatus.textContent='Compute time first, then start the timer.';return}if(!remaining||remaining<=0)remaining=Math.round(lastComputedSeconds);clearInterval(countdownInterval);let lastTick=performance.now();updateButtons('running');countdownStatus.textContent='Timer running‚Ä¶';countdownInterval=setInterval(()=>{const now=performance.now();const elapsed=(now-lastTick)/1000;lastTick=now;remaining=Math.max(0,remaining-elapsed);timeDisplay.textContent=formatTime(remaining);secondsDisplay.textContent=`${remaining.toFixed(2)} seconds remaining`;document.title=`‚è≥ ${formatTime(remaining)} ‚Äì ${titleBase}`;if(remaining<=0){clearInterval(countdownInterval);countdownInterval=null;timeDisplay.textContent='00:00:00';secondsDisplay.textContent='0.00 seconds remaining';countdownStatus.textContent='Time is up!';document.title=`‚è∞ Time is up! ‚Äì ${titleBase}`;updateButtons('done');playAlarm()}},200)}
    function pauseTimer(){if(countdownInterval){clearInterval(countdownInterval);countdownInterval=null;countdownStatus.textContent='Paused';updateButtons('paused')}}
    function resetTimer(soft=false){clearInterval(countdownInterval);countdownInterval=null;remaining=soft?Math.round(lastComputedSeconds):0;if(remaining>0){timeDisplay.textContent=formatTime(remaining);secondsDisplay.textContent=`${remaining.toFixed(2)} seconds remaining`}countdownStatus.textContent='';document.title=titleBase;updateButtons('idle')}
    function playAlarm(){if(!enableAlarm.checked)return;alarmAudio.currentTime=0;const p=alarmAudio.play();if(p&&typeof p.catch==='function'){p.catch(()=>{tryWebAudioBeep()})}let flashes=0;const flash=setInterval(()=>{document.title=(document.title.startsWith('‚è∞'))?`üîî Time is up! ‚Äì ${titleBase}`:`‚è∞ Time is up! ‚Äì ${titleBase}`;if(++flashes>10)clearInterval(flash)},700)}
    function tryWebAudioBeep(){try{const ctx=new(window.AudioContext||window.webkitAudioContext)();const o=ctx.createOscillator();const g=ctx.createGain();o.type='sine';o.frequency.value=880;g.gain.value=parseFloat(alarmVolume.value);o.connect(g);g.connect(ctx.destination);o.start();setTimeout(()=>{o.stop();ctx.close()},1200)}catch(e){}}
    function testAlarm(){playAlarm()}
  </script>
</body>
</html>
